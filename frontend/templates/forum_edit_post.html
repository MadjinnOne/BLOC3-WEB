{% extends "base.html" %}

{% block title %}Éditer le sujet : {{ post.title }}{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="/static/css/style_forum.css">
{% endblock %}

{% block content %}
<div class="forum-new-post-form">
    <h1>Éditer le sujet</h1>
    <form method="post" action="/forum/posts/{{ post.id }}/edit" class="forum-create-post-form">
        <div class="form-group">
            <label for="title">Titre du sujet</label>
            <input type="text" id="title" name="title" value="{{ post.title }}" required>
        </div>
        <div class="form-group">
            <label for="category_id">Catégorie</label>
            <select id="category_id" name="category_id" required>
                {% for cat in categories %}
                <option value="{{ cat.id }}" {% if cat.id == post.category_id %}selected{% endif %}>{{ cat.name }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="form-group">
            <label for="content">Contenu</label>
            <textarea id="content" name="content" rows="6" required>{{ post.content }}</textarea>
        </div>
        <button type="submit">Enregistrer les modifications</button>
    </form>
    <a href="/forum/{{ post.id }}" class="forum-back-link">&larr; Retour au sujet</a>
</div>
{% endblock %}
